/**
 * Created by insanemac on 31/05/2017.
 */
var db = require("../app/moduls/databaseManager");

db.tx(function (t) {
    // creating a sequence of transaction queries:
    var q4 = t.none('CREATE TABLE IF NOT EXISTS Denkmal (id varchar(255), typ  varchar(255), name varchar(255), long float, lat float)');
    var q5 = t.none('CREATE TABLE IF NOT EXISTS Ereignis (id varchar(255), long float, lat float)');
    var q6 = t.none('CREATE TABLE IF NOT EXISTS Ereignis_content (id varchar(255), typ varchar(255), titel  varchar(255), description text, ortsteil varchar(255), adresse varchar(255), url text, zeitpunkt timestamp,  EreignisId varchar(255))')

    // returning a promise that determines a successful transaction:
    return t.batch([ q4,q5, q6]); // all of the queries are to be resolved;
}).then(function (data) {
    console.log("Datenbank erfolgreich initialisiert");
    process.exit()
}).catch(function (error) {
    console.log(error); // printing the error;
    process.exit()
});